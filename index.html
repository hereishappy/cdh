<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Site Performance Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
        
        body {
            font-family: 'Inter', sans-serif;
        }
        
        .news-ticker {
            animation: scroll 30s linear infinite;
        }
        
        @keyframes scroll {
            0% { transform: translateX(100%); }
            100% { transform: translateX(-100%); }
        }
        
        .weather-icon {
            animation: pulse 2s ease-in-out infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }
        
        /* Hide Looker Studio privacy text */
        iframe {
            margin-bottom: -50px !important;
        }
        
        .footer-overlay {
            position: relative;
            z-index: 10;
            margin-top: -50px;
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">
    <!-- Header -->
    <header class="bg-gradient-to-r from-orange-600 via-yellow-600 to-orange-700 text-white shadow-lg relative overflow-hidden">
        <!-- Construction Pattern Background -->
        <div class="absolute inset-0 opacity-10">
            <div class="absolute top-0 left-0 w-full h-full" style="background-image: repeating-linear-gradient(45deg, transparent, transparent 10px, rgba(0,0,0,0.1) 10px, rgba(0,0,0,0.1) 20px);"></div>
        </div>
        
        <!-- Top Bar -->
        <div class="bg-red-600 text-white py-1 overflow-hidden relative z-10">
            <div class="news-ticker whitespace-nowrap text-sm font-medium">
                🚨 LIVE: Construction site safety monitoring • ⚠️ Hard hat zone active • 🏗️ Equipment status: Operational • 📊 Real-time scaffolding alerts
            </div>
        </div>
        
        <!-- Main Header -->
        <div class="container mx-auto px-4 py-4 relative z-10">
            <div class="flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0">
                <!-- Left: Title with Construction Elements -->
                <div class="flex-1">
                    <div class="flex items-center space-x-3 mb-2">
                        <div class="bg-yellow-400 text-black px-3 py-1 rounded-full text-xs font-bold animate-pulse">
                            ⚠️ SAFETY FIRST
                        </div>
                        <div class="bg-orange-500 text-white px-3 py-1 rounded-full text-xs font-bold">
                            🏗️ ACTIVE SITE
                        </div>
                    </div>
                    <h1 class="text-2xl lg:text-3xl font-bold text-white flex items-center">
                        🏗️ Construction Site Performance Dashboard
                        <span class="ml-3 text-yellow-300 animate-bounce">⚡</span>
                    </h1>
                    <p class="text-orange-200 text-sm mt-1 flex items-center">
                        <span class="mr-2">🔧</span>
                        Real-time scaffolding safety & performance monitoring
                    </p>
                </div>
                
                <!-- Right: Safety Status, Weather, Time, Location -->
                <div class="flex flex-col sm:flex-row items-start sm:items-center space-y-2 sm:space-y-0 sm:space-x-4 text-sm">
                    <!-- Safety Status -->
                    <div class="flex items-center space-x-2 bg-green-600 px-3 py-1 rounded-full">
                        <span class="w-2 h-2 bg-green-300 rounded-full animate-pulse"></span>
                        <span class="font-medium text-white">🛡️ SAFE</span>
                    </div>
                    
                    <!-- Location -->
                    <div class="flex items-center space-x-2 bg-black/20 px-2 py-1 rounded">
                        <span class="text-yellow-300">📍</span>
                        <span id="location" class="font-medium">Loading location...</span>
                    </div>
                    
                    <!-- Weather -->
                    <div class="flex items-center space-x-2 bg-black/20 px-2 py-1 rounded">
                        <span id="weather-icon" class="weather-icon">🌤️</span>
                        <span id="weather" class="font-medium">Loading weather...</span>
                    </div>
                    
                    <!-- Time -->
                    <div class="flex items-center space-x-2 bg-black/20 px-2 py-1 rounded">
                        <span class="text-yellow-300">🕐</span>
                        <span id="current-time" class="font-medium font-mono"></span>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Construction Warning Border -->
        <div class="h-3 bg-gradient-to-r from-yellow-400 via-orange-500 to-red-500 relative">
            <div class="absolute inset-0 bg-black opacity-20" style="background-image: repeating-linear-gradient(90deg, transparent, transparent 20px, rgba(0,0,0,0.3) 20px, rgba(0,0,0,0.3) 40px);"></div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="flex-1 bg-white">
        <div class="w-full">
            <iframe 
                width="100%" 
                height="1068" 
                src="https://lookerstudio.google.com/embed/reporting/269739d7-52c4-4c55-9f98-65fa02547f85/page/p_v8ez92uavd" 
                frameborder="0" 
                style="border:0; display:block;" 
                allowfullscreen 
                sandbox="allow-storage-access-by-user-activation allow-scripts allow-same-origin allow-popups allow-popups-to-escape-sandbox">
            </iframe>
        </div>
    </main>

    <!-- Footer Overlay -->
    <footer class="footer-overlay bg-gradient-to-r from-gray-800 via-orange-900 to-gray-900 text-white relative overflow-hidden">
        <!-- Construction Pattern Background -->
        <div class="absolute inset-0 opacity-5">
            <div class="absolute top-0 left-0 w-full h-full" style="background-image: repeating-linear-gradient(-45deg, transparent, transparent 15px, rgba(255,165,0,0.1) 15px, rgba(255,165,0,0.1) 30px);"></div>
        </div>
        
        <!-- Safety Alert Ticker -->
        <div class="bg-orange-600 text-white py-1 overflow-hidden relative z-10">
            <div class="news-ticker whitespace-nowrap text-sm font-medium">
                🚨 SAFETY ALERT: Scaffolding inspection completed • ⚠️ Hard hat compliance: 100% • 🏗️ Equipment maintenance scheduled • 🛡️ Zero incidents today
            </div>
        </div>
        
        <div class="container mx-auto px-4 py-6 relative z-10">
            <!-- Construction Safety Header -->
            <div class="border-b border-orange-600 pb-4 mb-6">
                <div class="flex items-center space-x-4 mb-3">
                    <div class="bg-yellow-400 text-black px-4 py-2 rounded-lg font-bold text-sm animate-pulse">
                        🚧 CONSTRUCTION ZONE
                    </div>
                    <div class="bg-red-600 text-white px-4 py-2 rounded-lg font-bold text-sm">
                        ⚠️ SAFETY CRITICAL
                    </div>
                </div>
                <h2 class="text-2xl lg:text-3xl font-bold text-white flex items-center">
                    🏗️ AI SCAFFOLDING SAFETY & PERFORMANCE CENTER
                    <span class="ml-3 text-yellow-400 animate-spin">⚙️</span>
                </h2>
                <p class="text-orange-200 text-sm mt-2 flex items-center">
                    <span class="mr-2">🔧</span>
                    Real-time construction safety monitoring and AI-powered recommendations
                </p>
            </div>
            
            <!-- Safety News Grid -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-6">
                <!-- Critical Safety Alert -->
                <div class="bg-red-700 border-l-4 border-yellow-400 p-4 rounded-lg shadow-lg relative overflow-hidden">
                    <div class="absolute top-0 right-0 w-16 h-16 bg-yellow-400 opacity-10 rounded-full -mr-8 -mt-8"></div>
                    <div class="flex items-center mb-2">
                        <span class="bg-red-500 text-white text-xs px-2 py-1 rounded font-bold mr-2 animate-pulse">🚨 CRITICAL</span>
                        <span class="text-red-200 text-xs" id="breaking-time"></span>
                    </div>
                    <h3 class="font-bold text-white mb-2">⚠️ Scaffolding Inspection Due</h3>
                    <p class="text-red-100 text-sm">Daily safety inspection required for scaffolding sections A-C. Hard hat and safety harness mandatory in designated zones.</p>
                </div>
                
                <!-- Equipment Status -->
                <div class="bg-orange-700 border-l-4 border-yellow-400 p-4 rounded-lg shadow-lg relative overflow-hidden">
                    <div class="absolute top-0 right-0 w-16 h-16 bg-yellow-400 opacity-10 rounded-full -mr-8 -mt-8"></div>
                    <div class="flex items-center mb-2">
                        <span class="bg-orange-500 text-white text-xs px-2 py-1 rounded font-bold mr-2">🏗️ EQUIPMENT</span>
                        <span class="text-orange-200 text-xs">15 min ago</span>
                    </div>
                    <h3 class="font-bold text-white mb-2">🔧 Crane Operations Active</h3>
                    <p class="text-orange-100 text-sm">Tower crane #2 operational. Load capacity: 85% utilized. Weather conditions favorable for lifting operations.</p>
                </div>
                
                <!-- Safety Compliance -->
                <div class="bg-green-700 border-l-4 border-yellow-400 p-4 rounded-lg shadow-lg relative overflow-hidden">
                    <div class="absolute top-0 right-0 w-16 h-16 bg-yellow-400 opacity-10 rounded-full -mr-8 -mt-8"></div>
                    <div class="flex items-center mb-2">
                        <span class="bg-green-500 text-white text-xs px-2 py-1 rounded font-bold mr-2">✅ COMPLIANCE</span>
                        <span class="text-green-200 text-xs">32 min ago</span>
                    </div>
                    <h3 class="font-bold text-white mb-2">🛡️ Safety Standards Met</h3>
                    <p class="text-green-100 text-sm">100% hard hat compliance achieved. All workers completed safety briefing. Emergency exits clearly marked and accessible.</p>
                </div>
                
                <!-- Structural Monitoring -->
                <div class="bg-blue-700 border-l-4 border-yellow-400 p-4 rounded-lg shadow-lg relative overflow-hidden">
                    <div class="absolute top-0 right-0 w-16 h-16 bg-yellow-400 opacity-10 rounded-full -mr-8 -mt-8"></div>
                    <div class="flex items-center mb-2">
                        <span class="bg-blue-500 text-white text-xs px-2 py-1 rounded font-bold mr-2">📐 STRUCTURAL</span>
                        <span class="text-blue-200 text-xs">1 hour ago</span>
                    </div>
                    <h3 class="font-bold text-white mb-2">🏗️ Load Monitoring</h3>
                    <p class="text-blue-100 text-sm">Structural load sensors active. Weight distribution within safe parameters. Foundation stability confirmed by engineering team.</p>
                </div>
                
                <!-- Weather Impact -->
                <div class="bg-purple-700 border-l-4 border-yellow-400 p-4 rounded-lg shadow-lg relative overflow-hidden">
                    <div class="absolute top-0 right-0 w-16 h-16 bg-yellow-400 opacity-10 rounded-full -mr-8 -mt-8"></div>
                    <div class="flex items-center mb-2">
                        <span class="bg-purple-500 text-white text-xs px-2 py-1 rounded font-bold mr-2">🌤️ WEATHER</span>
                        <span class="text-purple-200 text-xs">2 hours ago</span>
                    </div>
                    <h3 class="font-bold text-white mb-2">☀️ Optimal Conditions</h3>
                    <p class="text-purple-100 text-sm">Clear skies, low wind speeds. Ideal conditions for high-altitude work. UV protection recommended for outdoor workers.</p>
                </div>
                
                <!-- Performance Metrics -->
                <div class="bg-indigo-700 border-l-4 border-yellow-400 p-4 rounded-lg shadow-lg relative overflow-hidden">
                    <div class="absolute top-0 right-0 w-16 h-16 bg-yellow-400 opacity-10 rounded-full -mr-8 -mt-8"></div>
                    <div class="flex items-center mb-2">
                        <span class="bg-indigo-500 text-white text-xs px-2 py-1 rounded font-bold mr-2">📊 METRICS</span>
                        <span class="text-indigo-200 text-xs">3 hours ago</span>
                    </div>
                    <h3 class="font-bold text-white mb-2">📈 Productivity Report</h3>
                    <p class="text-indigo-100 text-sm">Daily targets: 95% achieved. Zero safety incidents recorded. Team efficiency up 12% from last week's performance.</p>
                </div>
            </div>
            
            <!-- Construction Status Bar -->
            <div class="border-t border-orange-600 pt-4">
                <div class="flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-2 lg:space-y-0">
                    <div class="flex flex-wrap items-center gap-4 text-sm">
                        <span class="flex items-center bg-green-600 px-3 py-1 rounded-full">
                            <span class="w-2 h-2 bg-green-300 rounded-full mr-2 animate-pulse"></span>
                            🏗️ Site Status: Active
                        </span>
                        <span class="flex items-center bg-blue-600 px-3 py-1 rounded-full">
                            <span class="w-2 h-2 bg-blue-300 rounded-full mr-2 animate-pulse"></span>
                            ⚡ Systems: Online
                        </span>
                        <span class="flex items-center bg-yellow-600 px-3 py-1 rounded-full">
                            <span class="w-2 h-2 bg-yellow-300 rounded-full mr-2 animate-pulse"></span>
                            🛡️ Safety: Compliant
                        </span>
                        <span class="flex items-center bg-orange-600 px-3 py-1 rounded-full">
                            <span class="w-2 h-2 bg-orange-300 rounded-full mr-2 animate-pulse"></span>
                            👷 Workers: 47 On-Site
                        </span>
                    </div>
                    <div class="text-sm text-orange-200">
                        © 2024 Construction Safety Dashboard • AI-Powered Monitoring • Last updated: <span id="last-updated"></span>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Construction Safety Ticker -->
        <div class="bg-yellow-600 border-t border-orange-500 py-2 overflow-hidden relative z-10">
            <div class="news-ticker whitespace-nowrap text-xs text-black font-medium">
                🚧 SAFETY FIRST: Hard hats required beyond this point • 🏗️ Crane operations: 8AM-6PM • ⚠️ Scaffolding inspection: Daily 7AM • 🛡️ Emergency assembly point: Parking Lot B • 👷 Safety officer on duty 24/7
            </div>
        </div>
    </footer>

    <script>
        // Update time every second
        function updateTime() {
            const now = new Date();
            const timeString = now.toLocaleTimeString('en-US', {
                hour12: true,
                hour: '2-digit',
                minute: '2-digit',
                second: '2-digit'
            });
            document.getElementById('current-time').textContent = timeString;
            
            // Update last updated timestamp
            const dateString = now.toLocaleDateString('en-US', {
                year: 'numeric',
                month: 'short',
                day: 'numeric',
                hour: '2-digit',
                minute: '2-digit'
            });
            document.getElementById('last-updated').textContent = dateString;
        }
        
        // Get user location and weather
        async function getLocationAndWeather() {
            try {
                // Get user's location
                if (navigator.geolocation) {
                    navigator.geolocation.getCurrentPosition(async (position) => {
                        const lat = position.coords.latitude;
                        const lon = position.coords.longitude;
                        
                        try {
                            // Get location name using reverse geocoding
                            const locationResponse = await fetch(`https://api.bigdatacloud.net/data/reverse-geocode-client?latitude=${lat}&longitude=${lon}&localityLanguage=en`);
                            const locationData = await locationResponse.json();
                            const city = locationData.city || locationData.locality || 'Unknown Location';
                            const country = locationData.countryName || '';
                            document.getElementById('location').textContent = `${city}, ${country}`;
                            
                            // Get weather data (using a free weather API)
                            const weatherResponse = await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${lat}&longitude=${lon}&current_weather=true&temperature_unit=fahrenheit`);
                            const weatherData = await weatherResponse.json();
                            const temp = Math.round(weatherData.current_weather.temperature);
                            const weatherCode = weatherData.current_weather.weathercode;
                            
                            // Simple weather icon mapping
                            const weatherIcons = {
                                0: '☀️', 1: '🌤️', 2: '⛅', 3: '☁️',
                                45: '🌫️', 48: '🌫️', 51: '🌦️', 53: '🌦️',
                                55: '🌦️', 61: '🌧️', 63: '🌧️', 65: '🌧️',
                                71: '🌨️', 73: '🌨️', 75: '🌨️', 95: '⛈️'
                            };
                            
                            const icon = weatherIcons[weatherCode] || '🌤️';
                            document.getElementById('weather-icon').textContent = icon;
                            document.getElementById('weather').textContent = `${temp}°F`;
                            
                        } catch (error) {
                            console.log('Weather API error:', error);
                            document.getElementById('location').textContent = 'Location unavailable';
                            document.getElementById('weather').textContent = 'Weather unavailable';
                        }
                    }, (error) => {
                        document.getElementById('location').textContent = 'Location access denied';
                        document.getElementById('weather').textContent = 'Weather unavailable';
                    });
                } else {
                    document.getElementById('location').textContent = 'Geolocation not supported';
                    document.getElementById('weather').textContent = 'Weather unavailable';
                }
            } catch (error) {
                console.log('Location error:', error);
                document.getElementById('location').textContent = 'Location unavailable';
                document.getElementById('weather').textContent = 'Weather unavailable';
            }
        }
        
        // Update breaking news timestamp
        function updateBreakingTime() {
            const now = new Date();
            const timeAgo = Math.floor((now - new Date(now.getTime() - 5 * 60000)) / 60000); // 5 minutes ago
            document.getElementById('breaking-time').textContent = `${timeAgo} min ago`;
        }
        
        // Initialize
        updateTime();
        setInterval(updateTime, 1000);
        updateBreakingTime();
        setInterval(updateBreakingTime, 60000); // Update every minute
        getLocationAndWeather();
        
        // Responsive iframe height adjustment
        function adjustIframeHeight() {
            const iframe = document.querySelector('iframe');
            if (window.innerWidth < 768) {
                iframe.style.height = '800px';
            } else {
                iframe.style.height = '1068px';
            }
        }
        
        window.addEventListener('resize', adjustIframeHeight);
        adjustIframeHeight();
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'96f68cd205ac7f96',t:'MTc1NTIzODQ0OS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
